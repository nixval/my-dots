# -----------------------------------------------------
# SWAY KEYBINDINGS (Unified Workflow)
# -----------------------------------------------------
# Mapped to match Hyprland, Niri, and MangoWC logic.
# -----------------------------------------------------

# --- 1. Core Applications ---
bindsym $mod+Return exec $term
bindsym $mod+b exec $browser
bindsym $mod+e exec $term -e $files
bindsym $mod+d exec $menu

# --- 2. Session & System ---
bindsym $mod+q kill
bindsym $mod+Shift+m exit
bindsym $mod+Shift+r reload
bindsym $mod+Alt+m exec hyprlock
bindsym $mod+Backslash exec swaync-client -t

# --- 3. Window State (The Hybrid Logic) ---

# T: Tiling Control
# Toggles between horizontal and vertical split for the current container.
bindsym $mod+t layout toggle split

# Y: Pinning (Sticky)
# Makes window visible on all workspaces (closest to 'Pin').
bindsym $mod+y sticky toggle

# Shift+Y: Pseudo / Spiral
# Sway doesn't have pseudo tiling. We map this to 'stacking' layout 
# as a functional alternative (windows stack vertically like a list).
bindsym $mod+Shift+y layout stacking

# O: Grouping (Tabbed Mode)
# Perfect mapping. Turns container into a Tabbed group.
bindsym $mod+o layout tabbed
bindsym $mod+Shift+o layout toggle split # Break out of tabbed (return to split)

# P: Presentation / Fullscreen
bindsym $mod+p fullscreen toggle
bindsym $mod+Shift+p floating toggle # Fake fullscreen often implies floating resize

# Space: Floating Management
bindsym $mod+space floating toggle
bindsym $mod+Shift+space focus mode_toggle # Switch focus between tiling/floating layer

# --- 4. Navigation (HJKL + Arrows) ---

# Focus
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move Window
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# --- 5. Workspace Navigation (Niri Style) ---

# U / I for Prev/Next (Linear Workflow)
bindsym $mod+u workspace prev
bindsym $mod+i workspace next

bindsym $mod+bracketleft workspace prev
bindsym $mod+bracketright workspace next

# Move Container to Prev/Next
bindsym $mod+Shift+u move container to workspace prev
bindsym $mod+Shift+i move container to workspace next

bindsym $mod+Shift+bracketleft move container to workspace prev
bindsym $mod+Shift+bracketright move container to workspace next

# Standard Numbers (1-10)
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# --- 6. Utility & Scratchpad ---

# Scratchpad (Grave Key `)
# Sway's scratchpad is powerful.
bindsym $mod+grave scratchpad show
bindsym $mod+Shift+grave move scratchpad

# Screenshot (Grim + Slurp)
bindsym $mod+s exec grim -g "$(slurp)" - | wl-copy
bindsym $mod+Shift+s exec grim - | wl-copy

# Clipboard
bindsym $mod+v exec pkill rofi || cliphist list | rofi -dmenu | cliphist decode | wl-copy

# Color Picker
bindsym $mod+Shift+c exec hyprpicker -a

# --- 7. Hardware Controls (Fallback) ---

# Audio
bindsym $mod+minus exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindsym $mod+equal exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindsym XF86AudioRaiseVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindsym XF86AudioLowerVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindsym XF86AudioMute exec wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# Brightness
bindsym $mod+Shift+minus exec brightnessctl s 5%-
bindsym $mod+Shift+equal exec brightnessctl s 5%+
bindsym XF86MonBrightnessUp exec brightnessctl s 10%+
bindsym XF86MonBrightnessDown exec brightnessctl s 10%-

# Media
bindsym $mod+Shift+bracketleft exec playerctl previous
bindsym $mod+Shift+bracketright exec playerctl next
bindsym $mod+Shift+backslash exec playerctl play-pause
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# --- 8. Resizing (Mode) ---
# Sway handles resizing best via a specific mode
bindsym $mod+Shift+r mode "resize"

mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+Shift+r mode "default"
}
