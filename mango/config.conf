# -----------------------------------------------------
# MANGOWC KEYBINDINGS (Unified Logic Port)
# -----------------------------------------------------
# Syntax: bind = MOD, KEY, dispatcher, argument
# MODs: SUPER, ALT, CTRL, SHIFT
# -----------------------------------------------------

# --- 1. CORE APPLICATIONS ---
bind = SUPER, Return, spawn, kitty
bind = SUPER, B, spawn, firefox
bind = SUPER, E, spawn, kitty -e yazi  # Yazi needs a terminal wrapper
bind = SUPER, D, spawn, rofi -show drun

# --- 2. SYSTEM & SESSION ---
bind = SUPER, Q, killclient,
bind = SUPER SHIFT, M, quit,           # Exit MangoWC
bind = SUPER ALT, M, spawn, hyprlock   # Lock Screen
bind = SUPER, Backslash, spawn, swaync-client -t # Notification Center

# --- 3. WINDOW STATE (The Hybrid Logic) ---

# T: Layout Switching (Tiling Control)
# In Hyprland this was Split. In Mango (DWM), we switch layouts.
bind = SUPER, T, setlayout, tile       # Standard Master/Stack
bind = SUPER SHIFT, T, setlayout, grid # Grid layout (alternative tiling)

# Y: Pinning & Pseudo
# 'Spiral' layout behaves like Dwindle/Pseudo.
# 'Sticky' pins the window to all tags.
bind = SUPER, Y, togglesticky,
bind = SUPER SHIFT, Y, setlayout, spiral

# O: Grouping (Tabbed/Deck)
# Mango's "Deck" layout is exactly like Tabs/Groups.
bind = SUPER, O, setlayout, deck
bind = SUPER SHIFT, O, setlayout, monocle # Fullscreen-ish single window

# P: Presentation / Fullscreen
bind = SUPER, P, togglefullscreen,
bind = SUPER SHIFT, P, togglefloating, # Fake fullscreen often implies floating here

# Space: Floating Management
bind = SUPER, Space, togglefloat,
bind = SUPER SHIFT, Space, centerwindow, # Requires mangowc v0.8.3+

# --- 4. NAVIGATION (HJKL + Arrows) ---
# MangoWC supports directional focus (unlike vanilla DWM)

# Focus
bind = SUPER, h, focusdir, left
bind = SUPER, l, focusdir, right
bind = SUPER, k, focusdir, up
bind = SUPER, j, focusdir, down

bind = SUPER, Left, focusdir, left
bind = SUPER, Right, focusdir, right
bind = SUPER, Up, focusdir, up
bind = SUPER, Down, focusdir, down

# Move Window (Swap in direction)
bind = SUPER SHIFT, h, exchange_direction, left
bind = SUPER SHIFT, l, exchange_direction, right
bind = SUPER SHIFT, k, exchange_direction, up
bind = SUPER SHIFT, j, exchange_direction, down

# --- 5. WORKSPACE / TAG NAVIGATION (Niri Style) ---
# U / I for Previous/Next Tag (Workspaces are Tags in DWM land)

bind = SUPER, U, view, -1  # Prev Tag
bind = SUPER, I, view, +1  # Next Tag

bind = SUPER SHIFT, U, tag, -1  # Move window to Prev Tag
bind = SUPER SHIFT, I, tag, +1  # Move window to Next Tag

# Standard Number Keys (Tags 1-9)
bind = SUPER, 1, view, 1
bind = SUPER, 2, view, 2
bind = SUPER, 3, view, 3
bind = SUPER, 4, view, 4
bind = SUPER, 5, view, 5
bind = SUPER, 6, view, 6
bind = SUPER, 7, view, 7
bind = SUPER, 8, view, 8
bind = SUPER, 9, view, 9

# Move to Tag
bind = SUPER SHIFT, 1, tag, 1
bind = SUPER SHIFT, 2, tag, 2
bind = SUPER SHIFT, 3, tag, 3
bind = SUPER SHIFT, 4, tag, 4
bind = SUPER SHIFT, 5, tag, 5
bind = SUPER SHIFT, 6, tag, 6
bind = SUPER SHIFT, 7, tag, 7
bind = SUPER SHIFT, 8, tag, 8
bind = SUPER SHIFT, 9, tag, 9

# --- 6. UTILITY & MEDIA ---

# Screenshot (Grim + Slurp)
bind = SUPER, S, spawn, grim -g "$(slurp)" - | wl-copy
bind = SUPER SHIFT, S, spawn, grim - | wl-copy

# Audio (Wireplumber)
bind = SUPER, minus, spawn, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = SUPER, equal, spawn, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+

bind = , XF86AudioRaiseVolume, spawn, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bind = , XF86AudioLowerVolume, spawn, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = , XF86AudioMute, spawn, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# Brightness
bind = SUPER SHIFT, minus, spawn, brightnessctl s 5%-
bind = SUPER SHIFT, equal, spawn, brightnessctl s 5%+
bind = , XF86MonBrightnessUp, spawn, brightnessctl s 10%+
bind = , XF86MonBrightnessDown, spawn, brightnessctl s 10%-

# Clipboard
bind = SUPER, V, spawn, pkill rofi || cliphist list | rofi -dmenu | cliphist decode | wl-copy

# --- 7. SPECIAL DWM FEATURES ---
# These are unique to Master/Stack layout, kept for power users.

bind = SUPER, i, incnmaster, 1  # Add window to Master stack
bind = SUPER SHIFT, i, incnmaster, -1 # Remove window from Master stack
bind = SUPER ALT, h, setmfact, -0.05 # Shrink Master area
bind = SUPER ALT, l, setmfact, +0.05 # Expand Master area
bind = SUPER, m, zoom, # Promote window to Master (Main)

# # -----------------------------------------------------
# # --- MangoWC Keybinds
# # -----------------------------------------------------
# # [INFO] Keybinds are hardcoded as mangowc does not
# # support variables in its config file.
# # [INFO] Syntax: bind=[MOD],[KEY],[COMMAND],[PARAMS]
# # [CITE] liyankova/llmstxt-linux/llmstxt-linux-2029d8729bffe932312019d0dedd5a3cfd9c639b/wm/mangowc-wiki/Home.md
#
# [bind]
# # -----------------------------------------------------
# # --- Core Application Binds (Defaults/Fallbacks)
# # -----------------------------------------------------
# # [INFO] We use 'spawn_shell' for scripts/shell commands
# # and 'spawn' for direct execution.
#
# # [Apps]
# bind=SUPER,t,spawn,kitty
# bind=SUPER,e,spawn,kitty -e yazi
# bind=SUPER,b,spawn,firefox
#
# # [Launchers]
# # [INFO] This calls the universal launcher script for consistency.
# bind=SUPER,d,spawn_shell,~/.config/hypr/scripts/launch-launcher.sh
# bind=SUPER+SHIFT,d,spawn_shell,rofi -show run
#
# # [System]
# bind=SUPER,q,killclient,
# bind=SUPER+SHIFT,e,spawn_shell,mangowc -q
# bind=SUPER,l,spawn,hyprlock
# bind=SUPER,r,reload_config,
# bind=SUPER,a,toggleoverview,
#
# # [Clipboard]
# bind=SUPER,v,spawn_shell,cliphist list | rofi -dmenu | cliphist decode | wl-copy
#
# # [Wallpaper]
# bind=SUPER,w,spawn_shell,~/.config/hypr/scripts/wallpaper.sh
# bind=SUPER+SHIFT,w,spawn_shell,swaybg -i /path/to/wall.png
#
# # -----------------------------------------------------
# # --- [ACTION] External Shell IPC Overrides
# # -----------------------------------------------------
# # [INFO] If running DMS or Noctalia *on top of* Mangowc,
# # comment out the binds above and uncomment the block below.
#
# # --- DMS Overrides ---
# # [CITE] liyankova/llmstxt-linux/llmstxt-linux-2029d8729bffe932312019d0dedd5a3cfd9c639b/wm/dms-wiki/danklinux.com/docs/dankmaterialshell/keybinds-ipc.md
# # bind=SUPER,d,spawn_shell,dms ipc call launcher toggle
# # bind=SUPER,a,spawn_shell,dms ipc call dank toggle_overview
# # bind=SUPER,r,spawn_shell,dms ipc call dank reload_style
# # bind=SUPER+SHIFT,e,spawn_shell,dms ipc call dank exit
#
# # --- Noctalia Overrides ---
# # [CITE] User-provided 'keybinds.md' for Noctalia
# # bind=SUPER,d,spawn_shell,qs -c noctalia-shell ipc call launcher toggle
# # bind=SUPER,w,spawn_shell,qs -c noctalia-shell ipc call wallpaper toggle
# # bind=SUPER,v,spawn_shell,qs -c noctalia-shell ipc call launcher clipboard
# # bind=SUPER,l,spawn_shell,qs -c noctalia-shell ipc call lockScreen lock
# # bind=SUPER+SHIFT,e,spawn_shell,qs -c noctalia-shell ipc call sessionMenu toggle
#
# # -----------------------------------------------------
# # --- Window & Layout Management
# # -----------------------------------------------------
#
# # [INFO] Use SUPER+Space for floating, a common key.
# bind=SUPER,space,togglefloating,
#
# # [INFO] Use native fullscreen.
# bind=SUPER,f,togglefullscreen,
#
# # [INFO] Use grave for scratchpad (sway-like).
# bind=SUPER,grave,toggle_scratchpad,
#
# # [INFO] Use tab for (un)stacking (imitates Hyprland groups).
# bind=SUPER,tab,togglefloating,
#
# # [INFO] Layout binds imitating Mangowc/Niri philosophy
# # [CITE] liyankova/llmstxt-linux/llmstxt-linux-2029d8729bffe932312019d0dedd5a3cfd9c639b/wm/mangowc-wiki/Home.md
# bind=SUPER,t,setlayout,tile
# bind=SUPER,y,setlayout,scroller
# bind=SUPER,u,setlayout,monocle
# bind=SUPER,i,setlayout,grid
# bind=SUPER,o,setlayout,deck
# bind=SUPER,p,setlayout,center_tile
#
# # -----------------------------------------------------
# # --- Hardware Keys (Volume & Brightness)
# # -----------------------------------------------------
#
# # [INFO] Standard XF86 keys for laptops/multimedia keyboards
# bind=NONE,XF86AudioRaiseVolume,spawn_shell,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
# bind=NONE,XF86AudioLowerVolume,spawn_shell,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
# bind=NONE,XF86AudioMute,spawn_shell,wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
# bind=NONE,XF86MonBrightnessUp,spawn_shell,brightnessctl set +5%
# bind=NONE,XF86MonBrightnessDown,spawn_shell,brightnessctl set 5%-
#
# # [INFO] Fallback binds for all keyboards
# bind=SUPER,equal,spawn_shell,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
# bind=SUPER,minus,spawn_shell,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
# bind=SUPER+SHIFT,equal,spawn_shell,brightnessctl set +5%
# bind=SUPER+SHIFT,minus,spawn_shell,brightnessctl set 5%-
#
# # -----------------------------------------------------
# # --- Screenshots
# # -----------------------------------------------------
# bind=NONE,Print,spawn_shell,hyprshot -m output
# bind=SHIFT,Print,spawn_shell,hyprshot -m region
# bind=CTRL,Print,spawn_shell,hyprshot -m window
